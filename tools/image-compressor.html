<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Image Compressor</title><link rel='stylesheet' href='../style.css'></head><body><main class='main'><div class='content container'><h2>Image Compressor</h2><p class='small'>Select an image and choose quality (0.1 - 1.0).</p><input id='file' type='file' accept='image/*' style='margin-top:8px'><div style='margin-top:10px'>Quality: <input id='q' type='range' min='0.1' max='1' step='0.1' value='0.8'></div><div style='margin-top:10px'><button class='btn' id='go'>Compress</button></div><div id='out' style='margin-top:12px'></div></div></main><script>document.getElementById('go').addEventListener('click', async ()=>{const f=document.getElementById('file').files[0]; if(!f){alert('Select image');return;} const q=parseFloat(document.getElementById('q').value); const data=await new Promise((res,rej)=>{const r=new FileReader(); r.onload=()=>res(r.result); r.onerror=rej; r.readAsDataURL(f);}); const img=new Image(); img.src=data; await new Promise(r=>img.onload=r); const c=document.createElement('canvas'); c.width=img.width; c.height=img.height; c.getContext('2d').drawImage(img,0,0); const out=c.toDataURL('image/jpeg', q); const a=document.createElement('a'); a.href=out; a.download='compressed.jpg'; a.textContent='Download compressed image'; document.getElementById('out').innerHTML = '<p class=\"small\">Preview:</p>'; const p=document.createElement('img'); p.src=out; p.style.maxWidth='240px'; document.getElementById('out').appendChild(p); document.getElementById('out').appendChild(document.createElement('br')); document.getElementById('out').appendChild(a); });</script></body></html>
