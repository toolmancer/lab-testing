<!doctype html><html><head><meta charset='utf-8'><meta name='viewport' content='width=device-width,initial-scale=1'><title>Image Resizer</title><link rel='stylesheet' href='../style.css'></head><body><main class='main'><div class='content container'><h2>Image Resizer</h2><p class='small'>Set width or height; aspect ratio preserved if one field left blank.</p><input id='file' type='file' accept='image/*' style='margin-top:8px'><div style='margin-top:8px'>Width(px): <input id='w' type='number' style='width:120px'> Height(px): <input id='h' type='number' style='width:120px'></div><div style='margin-top:10px'><button class='btn' id='go'>Resize & Download</button></div><div id='out' style='margin-top:12px'></div></div></main><script>document.getElementById('go').addEventListener('click', async ()=>{const f=document.getElementById('file').files[0]; if(!f){alert('Select image');return;} const w=parseInt(document.getElementById('w').value)||0; const h=parseInt(document.getElementById('h').value)||0; const data=await new Promise((res,rej)=>{const r=new FileReader(); r.onload=()=>res(r.result); r.onerror=rej; r.readAsDataURL(f);}); const img=new Image(); img.src=data; await new Promise(r=>img.onload=r); let nw=w, nh=h; if(!w && h){ nw = Math.round(img.width * (h / img.height)); } else if(!h && w){ nh = Math.round(img.height * (w / img.width)); } else if(!w && !h){ nw = img.width; nh = img.height; } const c=document.createElement('canvas'); c.width = nw; c.height = nh; c.getContext('2d').drawImage(img,0,0,nw,nh); const out=c.toDataURL('image/png'); const a=document.createElement('a'); a.href=out; a.download='resized.png'; a.textContent='Download resized image'; document.getElementById('out').innerHTML=''; const p=document.createElement('img'); p.src=out; p.style.maxWidth='240px'; document.getElementById('out').appendChild(p); document.getElementById('out').appendChild(document.createElement('br')); document.getElementById('out').appendChild(a); });</script></body></html>
