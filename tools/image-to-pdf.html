<!doctype html><html><head><meta charset="utf-8"><meta name="viewport" content="width=device-width,initial-scale=1"><title>Image to PDF</title><link rel="stylesheet" href="../style.css"></head><body><main class="main"><div class="content container"><h2>Image â†’ PDF</h2><p class="small">Select images (PNG/JPEG). They'll be placed on A4 pages.</p><input id="files" type="file" accept="image/*" multiple style="margin-top:8px"><div style="margin-top:10px"><button class="btn" id="go">Convert & Download PDF</button></div></div></main><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script>async function fileToDataURL(f){return new Promise((res,rej)=>{const r=new FileReader();r.onload=()=>res(r.result);r.onerror=rej;r.readAsDataURL(f);});}document.getElementById('go').addEventListener('click', async ()=>{const files=document.getElementById('files').files; if(!files || files.length===0){alert('Select images first');return;} const { jsPDF } = window.jspdf; const pdf=new jsPDF({unit:'pt',format:'a4'}); for(let i=0;i<files.length;i++){ const data=await fileToDataURL(files[i]); const img=new Image(); img.src=data; await new Promise(r=>img.onload=r); const pageW=pdf.internal.pageSize.getWidth(), pageH=pdf.internal.pageSize.getHeight(); const ratio=Math.min(pageW/img.width, pageH/img.height); const w=img.width*ratio, h=img.height*ratio; const x=(pageW-w)/2, y=(pageH-h)/2; if(i>0) pdf.addPage(); const type = data.indexOf('image/png')!==-1 ? 'PNG' : 'JPEG'; pdf.addImage(data, type, x, y, w, h);} pdf.save('images.pdf');});</script></body></html>
